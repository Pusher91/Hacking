---
layout: default
---
<html>
<head>
    <title>Symfonos 1 Walkthrough</title>
    <a href="https://pusher91.github.io/Hacking/">Return to Main Page</a>
</head>

<body>

    <h1>Symfonos 1 Walkthrough</h1>

    <hr>

    <h2>Port Scanning</h2>

    <li>Running port scan against the full port range to determine all open ports.</li>
    <pre>
&#x250c;&#x2500;&#x2500;(kali&#x327f;kali)-[~/Documents/VulnHub/symfonos]
&#x2514;&#x2500;$ sudo nmap -p- 10.0.0.13                                     
Starting Nmap 7.91 ( https://nmap.org ) at 2021-09-15 15:44 EDT
Nmap scan report for 10.0.0.13
Host is up (0.000072s latency).
Not shown: 65530 closed ports
PORT    STATE SERVICE
22/tcp  open  ssh
25/tcp  open  smtp
80/tcp  open  http
139/tcp open  netbios-ssn
445/tcp open  microsoft-ds
MAC Address: 00:0C:29:33:BD:FB (VMware)

Nmap done: 1 IP address (1 host up) scanned in 8.44 seconds
    </pre>

    <li>Running a port scan against only the open ports with -sV and -sC set to enumerate service versions and other information.</li>

    <pre>
&#x250c;&#x2500;&#x2500;(kali&#x327f;kali)-[~/Documents/VulnHub/symfonos]
&#x2514;&#x2500;$ sudo nmap -p22,25,80,139,445 -sV -sC 10.0.0.13 -oN script_tcp
Starting Nmap 7.91 ( https://nmap.org ) at 2021-09-15 15:46 EDT
Nmap scan report for 10.0.0.13
Host is up (0.00020s latency).

PORT    STATE SERVICE     VERSION
22/tcp  open  ssh         OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0)
| ssh-hostkey: 
|   2048 ab:5b:45:a7:05:47:a5:04:45:ca:6f:18:bd:18:03:c2 (RSA)
|   256 a0:5f:40:0a:0a:1f:68:35:3e:f4:54:07:61:9f:c6:4a (ECDSA)
|_  256 bc:31:f5:40:bc:08:58:4b:fb:66:17:ff:84:12:ac:1d (ED25519)
25/tcp  open  smtp        Postfix smtpd
|_smtp-commands: symfonos.localdomain, PIPELINING, SIZE 10240000, VRFY, ETRN, STARTTLS, ENHANCEDSTATUSCODES, 8BITMIME, DSN, SMTPUTF8, 
| ssl-cert: Subject: commonName=symfonos
| Subject Alternative Name: DNS:symfonos
| Not valid before: 2019-06-29T00:29:42
|_Not valid after:  2029-06-26T00:29:42
|_ssl-date: TLS randomness does not represent time
80/tcp  open  http        Apache httpd 2.4.25 ((Debian))
|_http-server-header: Apache/2.4.25 (Debian)
|_http-title: Site doesn&#039;t have a title (text/html).
139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp open  netbios-ssn Samba smbd 4.5.16-Debian (workgroup: WORKGROUP)
MAC Address: 00:0C:29:33:BD:FB (VMware)
Service Info: Hosts:  symfonos.localdomain, SYMFONOS; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 1h39m59s, deviation: 2h53m12s, median: 0s
|_nbstat: NetBIOS name: SYMFONOS, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt; (unknown)
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.5.16-Debian)
|   Computer name: symfonos
|   NetBIOS computer name: SYMFONOS\x00
|   Domain name: \x00
|   FQDN: symfonos
|_  System time: 2021-09-15T14:46:29-05:00
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2021-09-15T19:46:29
|_  start_date: N/A

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 33.23 seconds
    </pre>

    <h2>Port 445</h2>

    <li>Running smbmap against smb shows we have read access to the share "anonymous"</li>

    <pre>
/VulnHub/symfonos]
&#x2514;&#x2500;$ smbmap -H 10.0.0.13                    
[+] Guest session       IP: 10.0.0.13:445   Name: 10.0.0.13                                         
        Disk                                                    Permissions Comment
    ----                                                    ----------- -------
    print$                                              NO ACCESS   Printer Drivers
    helios                                              NO ACCESS   Helios personal share
    anonymous                                           READ ONLY   
    IPC$                                                NO ACCESS   IPC Service (Samba 4.5.16-Debian)
    </pre>

    <li>The only file in the "anonymous" share is "attention.txt".  So we download it.</li>

    <pre>
┌──(kali㉿kali)-[~/Documents/VulnHub/symfonos]
└─$ smbclient //10.0.0.13/anonymous               
Enter WORKGROUP\kali's password: 
Try "help" to get a list of possible commands.
smb: \> ls
  .                                   D        0  Fri Jun 28 21:14:49 2019
  ..                                  D        0  Fri Jun 28 21:12:15 2019
  attention.txt                       N      154  Fri Jun 28 21:14:49 2019

        19994224 blocks of size 1024. 17305340 blocks available
smb: \> get attention.txt 
getting file \attention.txt of size 154 as attention.txt (150.4 KiloBytes/sec) (average 150.4 KiloBytes/sec)
    </pre>


    <li>The file attention.txt tips us off that people may be using passwords such as epidioko, qwerty, and baseball.  We make note of this.</li>

    <pre>
&#x250c;&#x2500;&#x2500;(kali&#x327f;kali)-[~/Documents/VulnHub/symfonos]
&#x2514;&#x2500;$ cat attention.txt                                                                   

Can users please stop using passwords like &#039;epidioko&#039;, &#039;qwerty&#039; and &#039;baseball&#039;! 

Next person I find using one of these passwords will be fired!

-Zeus
    </pre>



    <h2>Port 139</h2>


    <li>Enumerating users using rpcclient</li>

    <pre>
┌──(kali㉿kali)-[~/Documents/VulnHub/symfonos]
└─$ rpcclient 10.0.0.13 -U ''                                                                                   1 ⨯
Enter WORKGROUP\'s password: 
rpcclient $> enumdomusers
user:[helios] rid:[0x3e8]
    </pre>